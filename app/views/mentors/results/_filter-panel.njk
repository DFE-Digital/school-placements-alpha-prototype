{% set filterOptionsHtml %}

{{ govukCheckboxes({
  idPrefix: "filter-k",
  name: "filter[k]",
  fieldset: {
    legend: {
      html: 'SEND training<span class="govuk-visually-hidden"> filter</span>',
      classes: "govuk-fieldset__legend--s"
    }
  },
  formGroup: {
    classes: "app-filter__group"
  },
  items: filterKItems,
  classes: "govuk-checkboxes--small"
}) }}

{# {{ appCheckboxFilter({
  idPrefix: "filter-a",
  name: "filter[a]",
  legend: {
    html: 'Subject<span class="govuk-visually-hidden"> filter</span>'
  },
  items: filterAItems,
  selectedItems: selectedA,
  showSelectedTags: true,
  classes: "govuk-!-margin-bottom-7"
}) }} #}

{# {{ govukCheckboxes({
  idPrefix: "filter-a",
  name: "filter[a]",
  fieldset: {
    legend: {
      html: 'Subject<span class="govuk-visually-hidden"> filter</span>',
      classes: "govuk-fieldset__legend--s"
    }
  },
  formGroup: {
    classes: "app-filter__group"
  },
  items: filterAItems,
  classes: "govuk-checkboxes--small"
}) }} #}

{{ govukCheckboxes({
  idPrefix: "filter-b",
  name: "filter[b]",
  fieldset: {
    legend: {
      html: 'Age range<span class="govuk-visually-hidden"> filter</span>',
      classes: "govuk-fieldset__legend--s"
    }
  },
  formGroup: {
    classes: "app-filter__group"
  },
  items: filterBItems,
  classes: "govuk-checkboxes--small"
}) }}

{{ appCheckboxFilter({
  idPrefix: "filter-c",
  name: "filter[c]",
  legend: {
    html: 'School type<span class="govuk-visually-hidden"> filter</span>'
  },
  items: filterCItems,
  selectedItems: selectedC,
  showSelectedTags: true,
  classes: "govuk-!-margin-bottom-7"
}) }}

{# {{ govukCheckboxes({
  idPrefix: "filter-c",
  name: "filter[c]",
  fieldset: {
    legend: {
      html: 'School type<span class="govuk-visually-hidden"> filter</span>',
      classes: "govuk-fieldset__legend--s"
    }
  },
  formGroup: {
    classes: "app-filter__group"
  },
  items: filterCItems,
  classes: "govuk-checkboxes--small"
}) }} #}

{{ govukCheckboxes({
  idPrefix: "filter-d",
  name: "filter[d]",
  fieldset: {
    legend: {
      html: 'Gender<span class="govuk-visually-hidden"> filter</span>',
      classes: "govuk-fieldset__legend--s"
    }
  },
  formGroup: {
    classes: "app-filter__group"
  },
  items: filterDItems,
  classes: "govuk-checkboxes--small"
}) }}

{{ appCheckboxFilter({
  idPrefix: "filter-e",
  name: "filter[e]",
  legend: {
    html: 'Religious character<span class="govuk-visually-hidden"> filter</span>'
  },
  items: filterEItems,
  selectedItems: selectedE,
  showSelectedTags: true,
  classes: "govuk-!-margin-bottom-7"
}) }}

{# {{ govukCheckboxes({
  idPrefix: "filter-e",
  name: "filter[e]",
  fieldset: {
    legend: {
      html: 'Religious character<span class="govuk-visually-hidden"> filter</span>',
      classes: "govuk-fieldset__legend--s"
    }
  },
  formGroup: {
    classes: "app-filter__group"
  },
  items: filterEItems,
  classes: "govuk-checkboxes--small"
}) }} #}

{{ appCheckboxFilter({
  idPrefix: "filter-f",
  name: "filter[f]",
  legend: {
    html: 'SEND provision<span class="govuk-visually-hidden"> filter</span>'
  },
  items: filterFItems,
  selectedItems: selectedF,
  showSelectedTags: true,
  classes: "govuk-!-margin-bottom-7"
}) }}

{# {{ govukCheckboxes({
  idPrefix: "filter-f",
  name: "filter[f]",
  fieldset: {
    legend: {
      html: 'SEN provision<span class="govuk-visually-hidden"> filter</span>',
      classes: "govuk-fieldset__legend--s"
    }
  },
  formGroup: {
    classes: "app-filter__group"
  },
  items: filterFItems,
  classes: "govuk-checkboxes--small"
}) }} #}

{{ govukCheckboxes({
  idPrefix: "filter-g",
  name: "filter[g]",
  fieldset: {
    legend: {
      html: 'Ofsted rating<span class="govuk-visually-hidden"> filter</span>',
      classes: "govuk-fieldset__legend--s"
    }
  },
  formGroup: {
    classes: "app-filter__group"
  },
  items: filterGItems,
  classes: "govuk-checkboxes--small"
}) }}

{{ govukCheckboxes({
  idPrefix: "filter-h",
  name: "filter[h]",
  fieldset: {
    legend: {
      html: 'Key stage<span class="govuk-visually-hidden"> filter</span>',
      classes: "govuk-fieldset__legend--s"
    }
  },
  formGroup: {
    classes: "app-filter__group"
  },
  items: filterHItems,
  classes: "govuk-checkboxes--small"
}) }}

{{ govukCheckboxes({
  idPrefix: "filter-i",
  name: "filter[i]",
  fieldset: {
    legend: {
      html: 'Admissions policy<span class="govuk-visually-hidden"> filter</span>',
      classes: "govuk-fieldset__legend--s"
    }
  },
  formGroup: {
    classes: "app-filter__group"
  },
  items: filterIItems,
  classes: "govuk-checkboxes--small"
}) }}

{#
Other filters
- Percentage eligible for free school meals
- School size
#}

{# Mentors #}

{{ govukCheckboxes({
  idPrefix: "filter-j",
  name: "filter[j]",
  fieldset: {
    legend: {
      html: 'ECF training<span class="govuk-visually-hidden"> filter</span>',
      classes: "govuk-fieldset__legend--s"
    }
  },
  formGroup: {
    classes: "app-filter__group"
  },
  items: filterJItems,
  classes: "govuk-checkboxes--small"
}) }}

{#
Other filters
- Years of teaching experience
- Qualifications - QTS, PGCE, PGDE, NPQ, EYTS
- Additional experience - works with exam board,
#}

{% endset %}


<div class="app-filter">
  <div class="app-filter__header">
    <div class="app-filter__header-title">
      <h2 class="govuk-heading-m">Filter</h2>
    </div>
    <div class="app-filter__header-action">

    </div>
  </div>
  <div class="app-filter__content">
    {% if selectedFilters %}
      <div class="app-filter__selected">
        <div class="app-filter__selected-heading">
          <div class="app-filter__heading-title">
            <h2 class="govuk-heading-m govuk-!-margin-bottom-1">Selected filters</h2>
            <p class="govuk-body">
              <a class="govuk-link govuk-link--no-visited-state" href="{{ actions.filters.remove }}">Clear filters</a>
            </p>
          </div>
        </div>
        {% for category in selectedFilters.categories %}
          <h3 class="govuk-heading-s govuk-!-margin-bottom-0">{{ category.heading.text }}</h3>
          <ul class="app-filter-tags">
            {% for item in category.items %}
              <li>
                <a class="app-filter__tag" href="{{ item.href }}">
                  <span class="govuk-visually-hidden">Remove this filter</span> {{ item.text }}
                </a>
              </li>
            {% endfor %}
          </ul>
        {% endfor %}
      </div>
    {% endif %}
    <div class="app-filter__options">
      <form method="get" action="{{ actions.filters.apply }}" novalidate>
        <button class="govuk-button" data-module="govuk-button">
          Apply filters
        </button>
        {{ filterOptionsHtml | safe }}
      </form>
    </div>
  </div>
</div>
